@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix obo: <http://purl.obolibrary.org/obo/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix ex: <http://example.org/shapes#> .
@prefix opt: <https://w3id.org/pmd/ont_pub_tmplt/> .

ex:TermEditorPattern a sh:PropertyShape ;
	sh:path obo:IAO_0000117 ;
    sh:pattern "^PERSON:(.*)$" ;
	sh:description "Make sure that \"term editor\" (IAO_0000117) is used with \"PERSON:*\""@en .

ex:DefinitionPattern a sh:PropertyShape ;
	sh:path [
        sh:alternativePath ( skos:definition rdfs:comment )
    ] ;
	sh:qualifiedMinCount 1 ;
	sh:qualifiedValueShape [
		sh:datatype rdf:langString ;
		sh:languageIn (
			"en"
		) ;
	] ;
	sh:uniqueLang true .

ex:LabelPattern a sh:PropertyShape ;
	sh:path [
        sh:alternativePath ( skos:prefLabel rdfs:label )
    ] ;
	sh:qualifiedMinCount 1 ;
	sh:qualifiedValueShape [
		sh:datatype rdf:langString ;
		sh:languageIn (
			"en"
		) ;
	] ;
	sh:uniqueLang true .

ex:CurationStatusPattern a sh:PropertyShape ;
	sh:path obo:IAO_0000114 ;
	sh:or (
      [ sh:hasValue obo:IAO_0000002 ]
      [ sh:hasValue obo:IAO_0000120 ]
	  [ sh:hasValue obo:IAO_0000121 ]
	  [ sh:hasValue obo:IAO_0000122 ]
      [ sh:hasValue obo:IAO_0000123 ]
	  [ sh:hasValue obo:IAO_0000124 ]
      [ sh:hasValue obo:IAO_0000125 ]
	  [ sh:hasValue obo:IAO_0000423 ]
      [ sh:hasValue obo:IAO_0000428 ]
    );
	sh:minCount 1 .

ex:PatternClassesProperties a sh:NodeShape ;
	sh:targetClass opt:ShaclTarget, owl:ObjectProperty ;
	sh:property
    	ex:DefinitionPattern ,
        ex:LabelPattern ,
		ex:CurationStatusPattern ,
        ex:TermEditorPattern .

ex:PatternOntology a sh:NodeShape ;
    sh:targetClass owl:Ontology ;
    sh:property
        [
            sh:path dcterms:title ;
            sh:minCount 1 ;
            sh:uniqueLang true ;
        ] ,
        [
            sh:path dcterms:created ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:pattern "^\\d{4}-\\d{2}-\\d{2}$" ;
        ] ,
        [
            sh:path dcterms:license ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRIOrLiteral ;
        ] ,
        [
            sh:path dcterms:creator ;
            sh:minCount 1 ;
            sh:nodeKind sh:IRIOrLiteral ;
        ] ,
        [
            sh:path owl:versionInfo ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:pattern "^\\d+\\.\\d+\\.\\d+$" ;
        ] ,
        [
            sh:path owl:versionIRI ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
        ] ,
        [
            sh:path rdfs:comment ;
            sh:minCount 1 ;
            sh:uniqueLang true ;
        ] ,
        [
            sh:path dcterms:bibliographicCitation ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
        ] .